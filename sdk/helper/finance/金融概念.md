# Valuations 估价
--------------------------------------
当你听说苹果价值2万亿美元或者Facebook的市值是七千九亿美元时，这到底是什么意思？这意味着公司的价值是如此之高，即每股价格乘以未发行股份数量的倍数。但为什么？谁决定的？这个股价是从哪里来的？华尔街老兄兄弟会很快说出市场力量，在一定程度上是正确的。

让我们从更核心的金融角度来看待它——这也将有助于确定金融的黄金法则。

### 黄金法则

_资产的价格是其未来现金流的净现值_

所以，当你听说一家公司价值X美元时，它的意思是，按照今天的美元价值（现值）计算，该公司的整体收入是X美元。

### 赚钱是什么意思？

获利是指公司的净现金流量加上最终价值。 我们需要将估值计算限制在某个特定的时间范围内，并且不能在实际时间结束之前进行计算-终值是我们希望公司永久地带来永久现金流量的数量，或者是我们期望的数量 将出售。

### 现值是什么意思？

今天的一美元比明年的一美元更值钱。 现值是指货币的时间价值，即使用预计将来会出现的一美元的现值。

### 如何计算现值？

要计算货币的现值-您首先需要一个折现因子，以将未来的现金流量折现为今天的美元价值。 折现系数是利率或投资回报率。 公式为**当前值=将来值/(1+折现系数)^n**其中n是周期数，例如年。

### 全部放在一起

如果一家公司预计在第1年带来1000美元的收益，在第2年带来2000美元的收益，并在第3年以3000美元的价格出售-现金流量表如下所示：

<table><thead><tr><th>Year 1</th><th></th><th>Year 2</th><th></th><th>Year 3 [Terminal value]</th></tr></thead><tbody><tr><td>$1000</td><td></td><td>$2000</td><td></td><td>$3000</td></tr></tbody></table>

如果折现率为5％-则其未来现金流量的现值为

```
Present Value = 1000/1.05 + 2000/1.05^2 + 3000/1.05^3
Present Value = 952.38 + 1814.106 + 2591.51
Present Value = 5358
```

我们已折现未来现金流量以获取现值。 按今天的美元价值计算，该公司预计将在三年内赚取5358美元。 如果有1000股，则我们预计每股价格为5.358美元。 如果市场价格较高/较低，则意味着公司估值过高/不足，或者我们的分析中缺少某些内容。

# 代码
--------------------------------------------------------

通常，这些分析不是手工完成的。 本科生金融专业的学生仍需草拟现金流量表，以供学习之用，但对于我们其他人，我们拥有可以完成许多手动工作的计算机。

我偶然发现的一个真正有用的图书馆是金融。 它包含许多实用程序功能，涉及金钱的时间价值，利率，折旧等。让我们逐一介绍所提供的一些功能。

### Rate 费率

**有效费率还是名义费率？**

名义利率是产品所引用的利率，即收取21％利息的信用卡。有效利率与名义利率不同，因为它考虑了累积效应。如果信用卡公司收取每月21％的复利利息-该公司收取的实际利率超过21％，因为您要为该利息支付利息，即复利。有效利率是多少？

```
r, _ := fin.EffectiveRate(0.21, 12)
```

### Cashflow 现金周转

**Net present value 净现值**

使用代码做上面的例子看起来像

```
r := fin.NetPresentValue(0.05, []float64{1000, 2000, 3000})
```

**Internal rate of return 内部收益率**

到目前为止，我们只看过正现金流量，但在大流行年或初始投资年中也可能有负现金流量。内部收益率是折现系数，它将导致未来现金流量的现值等于零，即该投资收支平衡所需的最低收益率是多少？

如果一家公司期望在第一年带来5000美元的投资，并在第二年拥有5000美元的现金流量，并在第三年以1000美元的价格出售-现金流量表将类似于以下内容

<table><thead><tr><th>Year 1</th><th></th><th>Year 2</th><th></th><th>Year 3 [Terminal value]</th></tr></thead><tbody><tr><td>($5000)</td><td></td><td>$5000</td><td></td><td>$1000</td></tr></tbody></table>

```
r, _ := fin.InternalRateOfReturn([]float64{-5000, 5000, 1000}, 0.3) 

fin.NetPresentValue(r, []float64{-5000, 5000, 1000})
```

### Time value money 时间价值货币

**Future value 未来价值**

在24年内，每年收益为5％时，每年投资100美元的终值是多少？

```
fin.FutureValue(0.05, 24, -100, 0, fin.PayEnd)
```

我们使用负数，因为这是现金流出。

**Payment**

我要在40年内每年以7％的回报率投资多少才能最终拥有100万美元？

```
fin.Payment(0.07, 40, 0, 1000000, fin.PayEnd)
```

### Bonds 债券

**TBillPrice**

国库券是政府支持的短期债务。 国库券通常不提供定期利息，而是以低于面值的价格出售。 当国库券到期时，将支付票面价值，并将其差额视为所赚取的利息。

计算利率为5％且从今天起到期3个月的国库券的价格

```
fin.TBillPrice(1606860585, 1614636282, 0.05)
```

**TBillYield**

要获得给定价格的国库券的收益，我们可以做相反的事情

```
fin.TBillYield(1606860585, 1614636282, 98.75004870756173)
```

### Depreciation 折旧

折旧是一种会计概念，用于冲销资产（例如汽车）价值的下降。 它允许每年支出资产价值的特定部分。 土地等资产永远不会折旧。

计算折旧的两种常见方法是直线折旧法和折旧法。 直线比较容易，资产成本在预期使用年限减去任何残值后平均分配，即**每年折旧=(资产购买价-残值)/估计使用寿命**。

另一方面，下降是加速折旧的方法，因为每年的折旧会随着资产的使用年限而下降。


一辆价值30000美元，残值5000美元，使用直线法估计寿命为5年的汽车，每年的折旧是多少？

```
fin.DepreciationStraightLine(30000, 5000, 5)
```

成本为30,000美元，残值为5000美元，估计寿命为5年（使用递减方法）的汽车在第一年的折旧是多少？

```
fin.DepreciationFixedDeclining(30000, 5000, 5, 1, 12)
```

_关于折旧的附注_：出于税务目的的折旧不同于出于会计目的的折旧[如上所示]。 对于税收，将会计折旧加回利润中，然后计算并扣除另一类津贴，称为资本成本津贴或CCA。

# Conclusion 结论
--------------------------------------

冒险并了解除技术以外的其他领域很重要。finance为学习金融概念提供了一种很好的技术途径。在其他领域中广博的知识将改变您使用软件的方式，并始终记住未来现金流量的现值。